"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.flatListToHierarchical = void 0;
/**
 * Converts a flat list to hierarchical.
 * @param data The ListNode items.
 * @param param1 The ListNode parameters.
 * @returns ListNode Array
 */
function flatListToHierarchical(data = [], { idKey = 'id', parentKey = 'parentId', childrenKey = 'children', } = {}) {
    const tree = [];
    const childrenOf = {};
    data.forEach((item) => {
        const newItem = Object.assign({}, item);
        const { [idKey]: id, [parentKey]: parentId = 0 } = newItem;
        childrenOf[id] = childrenOf[id] || [];
        newItem[childrenKey] = childrenOf[id];
        // eslint-disable-next-line @typescript-eslint/no-unused-expressions
        parentId
            ? (childrenOf[parentId] = childrenOf[parentId] || []).push(newItem)
            : tree.push(newItem);
    });
    return tree;
}
exports.flatListToHierarchical = flatListToHierarchical;
